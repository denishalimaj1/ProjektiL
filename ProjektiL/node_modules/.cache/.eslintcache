[{"C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\index.js":"1","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\reportWebVitals.js":"2","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\App.js":"3","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\reducers\\index.js":"4","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\firebase.js":"5","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\pages\\auth\\Login.js":"6","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\pages\\auth\\RegisterComplete.js":"7","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\pages\\Home.js":"8","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\pages\\auth\\Register.js":"9","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\pages\\auth\\ForgotPassword.js":"10","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\pages\\user\\History.js":"11","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\pages\\user\\Password.js":"12","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\pages\\admin\\AdminDashboard.js":"13","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\pages\\user\\Wishlist.js":"14","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\functions\\auth.js":"15","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\components\\routes\\UserRoute.js":"16","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\components\\nav\\Header.js":"17","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\components\\routes\\AdminRoute.js":"18","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\reducers\\userReducer.js":"19","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\components\\nav\\UserNav.js":"20","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\components\\routes\\LoadingToRedirect.js":"21"},{"size":925,"mtime":1623683046000,"results":"22","hashOfConfig":"23"},{"size":362,"mtime":1623683046000,"results":"24","hashOfConfig":"23"},{"size":2370,"mtime":1624018574738,"results":"25","hashOfConfig":"23"},{"size":184,"mtime":1623683046000,"results":"26","hashOfConfig":"23"},{"size":626,"mtime":1623683046000,"results":"27","hashOfConfig":"23"},{"size":5453,"mtime":1624014449397,"results":"28","hashOfConfig":"23"},{"size":3365,"mtime":1624014029133,"results":"29","hashOfConfig":"23"},{"size":107,"mtime":1623683046000,"results":"30","hashOfConfig":"23"},{"size":1672,"mtime":1623757402000,"results":"31","hashOfConfig":"23"},{"size":1792,"mtime":1623757406000,"results":"32","hashOfConfig":"23"},{"size":373,"mtime":1623933022000,"results":"33","hashOfConfig":"23"},{"size":1784,"mtime":1623892002000,"results":"34","hashOfConfig":"23"},{"size":184,"mtime":1623930860000,"results":"35","hashOfConfig":"23"},{"size":376,"mtime":1623888716000,"results":"36","hashOfConfig":"23"},{"size":587,"mtime":1623959568978,"results":"37","hashOfConfig":"23"},{"size":403,"mtime":1623937864000,"results":"38","hashOfConfig":"23"},{"size":1850,"mtime":1623865754000,"results":"39","hashOfConfig":"23"},{"size":1155,"mtime":1623958231633,"results":"40","hashOfConfig":"23"},{"size":290,"mtime":1623683046000,"results":"41","hashOfConfig":"23"},{"size":634,"mtime":1623888422000,"results":"42","hashOfConfig":"23"},{"size":746,"mtime":1623887646000,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"n2oux8",{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"46"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"46"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"46"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"46"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"46"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"46"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"46"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"46"},"C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\index.js",[],["96","97"],"C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\reportWebVitals.js",[],"C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\App.js",["98","99"],"import React, {useEffect} from \"react\";\nimport { Switch,Route } from \"react-router-dom\";\nimport Login from './pages/auth/Login'\nimport Register from './pages/auth/Register'\nimport Home from './pages/Home'\nimport Header from './components/nav/Header'\nimport {ToastContainer} from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css';\nimport RegisterComplete from \"./pages/auth/RegisterComplete\";\nimport ForgotPassword from './pages/auth/ForgotPassword'\nimport History from \"./pages/user/History\"\nimport UserRoute from \"./components/routes/UserRoute\"\nimport AdminRoute from \"./components/routes/AdminRoute\"\nimport Password from \"./pages/user/Password\"\nimport Wishlist from \"./pages/user/Wishlist\"\nimport axios from \"axios\"\nimport AdminDashboard from './pages/admin/AdminDashboard';\nimport { auth } from './firebase'\nimport { useDispatch } from 'react-redux';\nimport { currentUser } from \"./functions/auth\"\n\n\n\n\n\nconst App = () => {\n  const dispatch = useDispatch()\n  \n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(async (user) => {\n      if (user) {\n        const idTokenResult = await user.getIdTokenResult();\n        console.log(\"user\", user);\n        \n\n        currentUser(idTokenResult.token).then((res) => {\n          dispatch({\n              type: \"LOGGED_IN_USER\",\n              payload: {\n                name: res.data.name,\n                email: res.data.email,\n                token: idTokenResult.token,\n                role: res.data.role,\n                _id: res.data._id,\n     \n           },\n     \n          });\n      })\n      .catch((err) => console.log(err));\n      \n    }\n  \n    });\n    return () => unsubscribe();\n  }, []);\n  return  (\n    <>\n    <Header />\n    <ToastContainer/>\n    <Switch>\n      <Route exact path=\"/\"component={Home}/>\n      <Route exact path=\"/login\"component={Login}/>\n      <Route exact path=\"/register\"component={Register}/>\n      <Route exact path=\"/register/complete\"component={RegisterComplete}/>\n      <Route exact path=\"/forgot/password\"component={ForgotPassword}/>1\n      <UserRoute exact path=\"/user/history\"component={History}/>\n      <UserRoute exact path=\"/user/password\"component={Password}/>\n      <UserRoute exact path=\"/user/wishlist\"component={Wishlist}/>\n      <AdminRoute exact path=\"/admin/dashboard\"component={AdminDashboard}/>\n    </Switch></>\n\n  );\n\n\n}\nexport default App;\n","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\reducers\\index.js",[],"C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\firebase.js",[],"C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\pages\\auth\\Login.js",["100","101","102","103","104"],"import React, { useState,useEffect } from \"react\";\nimport { auth, googleAuthProvider } from \"../../firebase.js\";\nimport { toast } from \"react-toastify\";\nimport { Button } from \"antd\";\nimport { useDispatch,useSelector } from \"react-redux\";\nimport { GoogleOutlined, MailOutlined } from \"@ant-design/icons\";\nimport {Link} from 'react-router-dom'\nimport axios from 'axios';\nimport { createOrUpdateUser } from \"../../functions/auth\";\nimport firebase from \"firebase/app\";\nrequire('../../../node_modules/firebase/firebase-auth');\n\n\n\n\n\nconst Login = ({history}) => {\n    const [email, setEmail] = useState(\"al47128@ubt-uni.net\");\n    const [password, setPassword] = useState(\"arberarber\");\n    const [loading, setLoading] = useState(false);\n    const{user}=useSelector((state)=>({...state}));\n    useEffect(() =>{\n        \n        if(user && user.token) history.push(\"/\");\n        \n\n    }, [user]);\n    let dispatch = useDispatch();\n    \n    const roleBasedRedirect=(res) =>{\n        if(res.data.role==='admin')  {\n          history.push(\"/admin/dashboard\");    \n        }else{\n          history.push(\"/user/history\");\n       \n        }     \n      };\n      \n    \n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setLoading(true);\n        console.table(email, password);\n      \n    \n        try {\n            const result = await firebase.auth().signInWithEmailAndPassword(email, password);\n           // console.log(result);\n            const { user } = result;\n            const idTokenResult = await user.getIdTokenResult();\n\n            createOrUpdateUser(idTokenResult.token).then((res) => {\n                dispatch({\n                    type: \"LOGGED_IN_USER\",\n                    payload: {\n                    name: res.data.name,\n                    email: res.data.email,\n                    token: idTokenResult.token,\n                    role: res.data.role,\n                    _id: res.data._id,\n           \n                 },\n           \n                });\n                 // roleBasedRedirect(res);\n                \n            })\n            .catch((err) => console.log(err));\n          \n            //history.push('/');\n            \n        } catch (error) {\n            console.log(error);\n            toast.error(error.message);\n            setLoading(false);\n\n        }\n        \n\n    };\n    const googleLogin = async () => {\n        auth.signInWithPopup(googleAuthProvider)\n            .then(async (result) => {\n                const { user } = result\n                const idTokenResult = await user.getIdTokenResult();\n                createOrUpdateUser(idTokenResult.token).then((res) => {\n                    dispatch({\n                        type: \"LOGGED_IN_USER\",\n                        payload: {\n                            name: res.data.name,\n                          email: res.data.email,\n                          token: idTokenResult.token,\n                          role: res.data.role,\n                          _id: res.data._id,\n               \n                     },\n                     \n                    });\n                    const roleBasedRedirect=(res) =>{\n                        if(res.data.role==='admin')  {\n                          history.push(\"/admin/dashboard\");    \n                        }else{\n                          history.push(\"/user/history\");\n                       \n                        }     \n                      };\n                   \n                      \n                })\n                .catch((err) => console.log(err));\n                history.push('/');\n\n            })\n            .catch((err) => {\n                console.log(err)\n                toast.error(err.message);\n\n            });\n    };\n\n\n\n    const loginForm = () =>\n        <form onSubmit={handleSubmit}>\n            <div className=\"form-group\">\n                <input type=\"email\" className=\"form-control\" value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"Your email\" autoFocus />\n\n\n\n            </div>\n           \n            <div className=\"form-group\">\n                <input type=\"password\" className=\"form-control\" value={password} onChange={(e) => setPassword(e.target.value)} placeholder=\"Your password\" />\n\n\n            </div>\n            <br />\n            <Button\n                onClick={handleSubmit}\n                type=\"primary\"\n                className=\"mb-3\"\n                block\n                shape=\"round\"\n                size=\"large\"\n                disabled={!email || password.length < 6}>\n\n            Login with Email/Password</Button>\n    \n        </form>\n    return (\n        <div className=\"container p-5\">\n            <div className=\"row\">\n                <div className=\"col-md-6 offset-md-3\">\n                    {loading ? (<h4 className=\"text-danger\">Loading..</h4>) :\n                       (<h4>Login</h4>) }\n       \n                    {loginForm()}\n\n                    <Button\n                onClick={googleLogin}\n                type=\"danger\"\n                className=\"mb-3\"\n                block\n                icon ={<GoogleOutlined/>}\n                shape=\"round\"\n                size=\"large\"\n                >\n                    Login with Google\n                    </Button>\n                <Link to=\"/forgot/password\" className=\"float-right text-danger\">Forgot Password</Link>\n\n\n\n\n\n\n                </div>\n\n\n            </div>\n            \n        </div>\n\n        \n    );\n\n\n\n};\nexport default Login;","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\pages\\auth\\RegisterComplete.js",["105","106"],"import React,{useState, useEffect} from \"react\"\nimport {auth} from '../../firebase.js'\nimport {toast} from 'react-toastify'\nimport { useDispatch,useSelector } from \"react-redux\";\nimport { createOrUpdateUser } from \"../../functions/auth\";\nimport firebase from '@firebase/app';\nrequire('firebase/auth');\n\n\n \n\nconst RegisterComplete=({history}) =>{\n    const[email,setEmail]=useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const{user}=useSelector((state)=>({...state}));\n    let dispatch = useDispatch();\n\n    useEffect(() => {\n        setEmail(window.localStorage.getItem('emailForRegistration'));\n        console.log(window.location.href);\n        console.log(window.localStorage.getItem('emailForRegistration'));\n\n    }, []);\n    \n    const handleSubmit=async(e) =>{\n        e.preventDefault();\n\n        //validation\n\n        if (!email || !password) {\n            toast.error('Email and password is required');\n            return;\n        }\n        if (password.length < 6) {\n            toast.error('Password must be at least 6 characters long');\n            return;\n        }\n\n\n        try {\n            const result = await auth.signInWithEmailLink(email,\n                window.location.href);\n        //  console.log(\"RESULT\", result);\n            if (result.user.emailVerified) {\n                window.localStorage.removeItem(\"emailForRegistration\");\n                //user idtoken\n                let user = auth.currentUser\n                await user.updatePassword(password);\n                const idTokenResult = await user.getIdTokenResult();\n                // redux store\n                console.log('user', user, 'idTokenResult', idTokenResult);\n               \n                createOrUpdateUser(idTokenResult.token).then((res) => {\n                    dispatch({\n                        type: \"LOGGED_IN_USER\",\n                        payload: {\n                            name: res.data.name,\n                          email: res.data.email,\n                          token: idTokenResult.token,\n                          role: res.data.role,\n                          _id: res.data._id,\n               \n                     },\n               \n                    });\n                })\n                .catch((err) => console.log(err));\n               \n                //redirect\n                history.push('/')\n                \n           }\n\n\n\n        } catch (error) {\n            console.log(error);\n            toast.error(error.message);\n\n        }\n\n\n    };\n\n    const completeRegistrationForm=()=>\n    <form onSubmit={handleSubmit}>\n            <input type=\"email\" className=\"form-control\" value={email} disabled />\n\n            <input type=\"password\" className=\"form-control\"\n                value={password}\n                onChange={e => setPassword(e.target.value)}\n                placeholder = \"Password\"\n                autoFocus\n            />\n            <br />\n        \n    <button type=\"submit\" className=\"btn btn-raised\">Complete Registration</button>\n    \n    </form> \n    return (\n        <div className=\"container p-5\">\n            <div className=\"row\">\n            <div className=\"col-md-6 offset-md-3\">\n        <h4>Register Complete</h4>\n       \n        {completeRegistrationForm()}\n\n            </div>\n\n\n            </div>\n            \n            </div>\n\n    )\n\n}\nexport default RegisterComplete;","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\pages\\Home.js",[],"C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\pages\\auth\\Register.js",["107","108","109"],"import React,{useState,useEffect} from \"react\"\nimport {auth} from '../../firebase.js'\nimport {toast} from 'react-toastify'\nimport {useSelector } from \"react-redux\";\nimport firebase from '@firebase/app';\nrequire('firebase/auth');\n\nconst Register=({history}) =>{\n    const[email,setEmail]=useState(\"\");\n    const{user}=useSelector((state)=>({...state}));\n    useEffect(() =>{\n        \n        if(user && user.token) history.push(\"/\");\n        \n\n    }, [user]);\n    const handleSubmit=async(e) =>{\n        e.preventDefault();\n        console.log(\"ENV---->\",process.env.REACT_APP_REGISTER_REDIRECT_URL);\n        \n        const config={\n            url: process.env.REACT_APP_REGISTER_REDIRECT_URL,\n            handleCodeInApp:true,\n\n        };\n\n\n    \n\n        await auth.sendSignInLinkToEmail(email,config);\n        toast.success(\n            'Email is sent to ${email}.Click the link to complete yyour registration'\n            );\n\n            window.localStorage.setItem(\"emailForRegistration\",email)\n\n            setEmail(\"\");\n\n    };\n    const registerForm=()=>\n    <form onSubmit={handleSubmit}>\n            <input type=\"email\" className=\"form-control\" value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"Your email\" autoFocus />\n            <br/>\n    <button type=\"submit\" className=\"btn btn-raised\">Register</button>\n    \n    </form> \n    return (\n        <div className=\"container p-5\">\n            <div className=\"row\">\n            <div className=\"col-md-6 offset-md-3\">\n        <h4>Register</h4>\n       \n        {registerForm()}\n\n\n            </div>\n\n\n            </div>\n            \n            </div>\n\n        \n    )\n\n\n\n}\nexport default Register;","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\pages\\auth\\ForgotPassword.js",["110","111","112","113"],"import React, { useState,useEffect } from \"react\";\r\nimport { auth } from \"../../firebase.js\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {Link} from 'react-router-dom'\r\nimport firebase from \"firebase/app\";\r\nrequire('../../../node_modules/firebase/firebase-auth');\r\n\r\n\r\nconst ForgotPassword=({history})=>{\r\n    const[email,setEmail]=useState('')\r\n    const [loading,setLoading]=useState(false);\r\n    const{user}=useSelector((state)=>({...state}));\r\n    useEffect(() =>{\r\n        if(user && user.token) history.push(\"/\");\r\n\r\n    }, [user]);\r\n    const handleSubmit = async(e) =>{\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        const config={\r\n            url: process.env.REACT_APP_FORGOT_PASSWORD_REDIRECT,\r\n            handleCodeInApp:true,\r\n\r\n        };\r\n\r\n\r\n        await auth.sendPasswordResetEmail(email,config)\r\n        .then(()=>{\r\n            setEmail('')\r\n            setLoading(false)\r\n            toast.success('Check your email for password reset link');\r\n\r\n\r\n        })\r\n        .catch((error)=>{\r\n            setLoading(false)\r\n            toast.error(error.message);\r\n            console.log('ERROR MSG IN FORGOT PASSWORD',error)\r\n        });\r\n\r\n\r\n        \r\n\r\n    };\r\n\r\n    return( <div className=\"container col-md-6 offset-md-3 p-5\">\r\n        {loading ?<h4 className=\"text-danger\">Loading</h4> : <h4>Forgot Password</h4>}\r\n\r\n        <form onSubmit={handleSubmit}>\r\n            <input type=\"email\" className=\"form-control\" value={email} onChange={e=>setEmail(e.target.value)} placeholder=\"Type your email\" autoFocus/>\r\n            <br/>\r\n            <button className=\"btn btn-raised\" disabled={!email}>Submit</button>\r\n        </form>\r\n    </div>\r\n    );\r\n\r\n};\r\nexport default ForgotPassword\r\n","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\pages\\user\\History.js",[],"C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\pages\\user\\Password.js",[],"C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\pages\\admin\\AdminDashboard.js",[],"C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\pages\\user\\Wishlist.js",[],"C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\functions\\auth.js",[],"C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\components\\routes\\UserRoute.js",["114"],"import React from 'react'\r\nimport {Route,Link} from 'react-router-dom'\r\nimport {useSelector} from 'react-redux'\r\nimport LoadingToRedirect from './LoadingToRedirect'\r\nconst UserRoute=({children,...rest})=>{\r\n    const{user} = useSelector((state)=>({...state}));\r\n    return user && user.token ? (\r\n      <Route {...rest}  />\r\n     ): ( \r\n     <LoadingToRedirect />\r\n     );\r\n};\r\nexport default UserRoute;","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\components\\nav\\Header.js",["115"],"import React, { useState } from 'react'\nimport { Menu } from 'antd'\nimport { UserOutlined, AppstoreOutlined, SettingOutlined, UserAddOutlined, LogoutOutlined, } from '@ant-design/icons';\nimport { Link } from \"react-router-dom\"\nimport firebase from 'firebase'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\n\n\n\nconst { SubMenu, Item } = Menu;\n\n\nconst Header = () => {\n  const [current, setCurrent] = useState(\"home\")\n  let dispatch = useDispatch();\n  let { user } = useSelector((state) => ({ ...state }));\n  let history = useHistory();\n  const handleClick = (e) => {\n    //console.log(e.key);\n    setCurrent(e.key)\n  }\n\n  const logout = () => {\n    firebase.auth().signOut()\n    dispatch({\n      type: \"LOGOUT\",\n      payload: null,\n\n\n    });\n    history.push(\"/login\");\n  };\n\n  return (\n    <Menu onClick={handleClick} selectedKeys={[current]} mode=\"horizontal\">\n      <Menu.Item key=\"home\" icon={<AppstoreOutlined />}>\n        <Link to=\"/\">Home</Link>\n      </Menu.Item>\n       \n      {!user && (\n        <Menu.Item key=\"register\" icon={<UserAddOutlined />} className=\"float-right\">\n          <Link to=\"/register\">Register</Link>\n        </Menu.Item>\n\n\n      )}\n      {!user && (\n        <Menu.Item key=\"login\" icon={<UserOutlined />} className=\"float-right\">\n          <Link to=\"/login\">Login</Link>\n\n        </Menu.Item>\n\n      )}\n\n      {user && (\n\n        <SubMenu key=\"SubMenu\" icon={<SettingOutlined />} \n        title={user.email && user.email.split('@')[0]} \n        className=\"float-right\">\n\n          <Menu.Item key=\"setting:1\">Option 1</Menu.Item>\n          <Menu.Item key=\"setting:2\">Option 2</Menu.Item>\n          <Menu.Item key=\"signout\" icon={<LogoutOutlined />} onClick={logout}>Logout</Menu.Item>\n        </SubMenu>\n      )\n\n\n\n      }\n\n\n\n    </Menu>\n  )\n\n}\n\nexport default Header","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\components\\routes\\AdminRoute.js",["116"],"import React,{useEffect,useState} from 'react'\r\nimport {Route,Link} from 'react-router-dom'\r\nimport {useSelector} from 'react-redux'\r\nimport LoadingToRedirect from './LoadingToRedirect'\r\nimport axios from \"axios\";\r\n\r\nexport const currentAdmin = async (authtoken) => {\r\n    return await axios.post(\r\n         `${process.env.REACT_APP_API}/current-admin`,\r\n         {},\r\n         {\r\n             headers: {\r\n                 authtoken,\r\n             },\r\n         }\r\n     );\r\n };\r\n\r\n\r\n\r\n\r\nconst AdminRoute=({children,...rest})=>{\r\n    const{user} = useSelector((state)=>({...state}));\r\n    const [ok,setOk]=useState(false);\r\n\r\n    useEffect(() => {\r\n        if(user && user.token) {\r\n            currentAdmin(user.token)\r\n            .then((res)=>{\r\n                console.log(\"CURRENT ADMIN RES\",res);\r\n                setOk(true);\r\n\r\n \r\n            })\r\n            .catch((err) =>{\r\n                console.log(\"ADMIN ROUTE ERR\",err);\r\n                setOk(false);\r\n            });\r\n\r\n\r\n            \r\n        }\r\n\r\n\r\n    },[user]);\r\n    return ok ? (\r\n      <Route {...rest}/>\r\n     ):( \r\n     <LoadingToRedirect/>\r\n     );\r\n};\r\nexport default AdminRoute;","C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\reducers\\userReducer.js",[],"C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\components\\nav\\UserNav.js",[],"C:\\Users\\Denis\\OneDrive\\Desktop\\P3\\ProjektiL\\src\\components\\routes\\LoadingToRedirect.js",["117","118"],"import React,{useState,useEffect} from 'react'\r\nimport {useHistory} from 'react-router-dom'\r\n\r\n\r\nconst LoadingToRedirect = ()=>{\r\n    const [count,setCount]=useState(5)\r\n    let history=useHistory()\r\n\r\n    useEffect(() => {\r\n\r\n            const interval=setInterval (()=>{\r\n                setCount((currentCount)=>--currentCount);\r\n\r\n\r\n\r\n            },1000);\r\n            //redirect once count is equal to 0\r\n            count ===0 && history.push('/')\r\n            //cleanup\r\n            return ()=>clearInterval()\r\n\r\n    }, [count])\r\n        return (\r\n            <div className=\"container p-5 text-center\">\r\n                <p>Redirecting you in {count} seconds</p>\r\n            </div>\r\n\r\n\r\n        );\r\n};\r\nexport default LoadingToRedirect;\r\n",{"ruleId":"119","replacedBy":"120"},{"ruleId":"121","replacedBy":"122"},{"ruleId":"123","severity":1,"message":"124","line":16,"column":8,"nodeType":"125","messageId":"126","endLine":16,"endColumn":13},{"ruleId":"127","severity":1,"message":"128","line":57,"column":6,"nodeType":"129","endLine":57,"endColumn":8,"suggestions":"130"},{"ruleId":"123","severity":1,"message":"131","line":6,"column":26,"nodeType":"125","messageId":"126","endLine":6,"endColumn":38},{"ruleId":"123","severity":1,"message":"124","line":8,"column":8,"nodeType":"125","messageId":"126","endLine":8,"endColumn":13},{"ruleId":"127","severity":1,"message":"132","line":27,"column":8,"nodeType":"129","endLine":27,"endColumn":14,"suggestions":"133"},{"ruleId":"123","severity":1,"message":"134","line":30,"column":11,"nodeType":"125","messageId":"126","endLine":30,"endColumn":28},{"ruleId":"123","severity":1,"message":"134","line":99,"column":27,"nodeType":"125","messageId":"126","endLine":99,"endColumn":44},{"ruleId":"123","severity":1,"message":"135","line":6,"column":8,"nodeType":"125","messageId":"126","endLine":6,"endColumn":16},{"ruleId":"123","severity":1,"message":"136","line":16,"column":11,"nodeType":"125","messageId":"126","endLine":16,"endColumn":15},{"ruleId":"123","severity":1,"message":"135","line":5,"column":8,"nodeType":"125","messageId":"126","endLine":5,"endColumn":16},{"ruleId":"127","severity":1,"message":"132","line":16,"column":8,"nodeType":"129","endLine":16,"endColumn":14,"suggestions":"137"},{"ruleId":"138","severity":1,"message":"139","line":32,"column":13,"nodeType":"140","messageId":"141","endLine":32,"endColumn":86},{"ruleId":"123","severity":1,"message":"142","line":3,"column":17,"nodeType":"125","messageId":"126","endLine":3,"endColumn":31},{"ruleId":"123","severity":1,"message":"143","line":5,"column":9,"nodeType":"125","messageId":"126","endLine":5,"endColumn":13},{"ruleId":"123","severity":1,"message":"135","line":6,"column":8,"nodeType":"125","messageId":"126","endLine":6,"endColumn":16},{"ruleId":"127","severity":1,"message":"132","line":17,"column":8,"nodeType":"129","endLine":17,"endColumn":14,"suggestions":"144"},{"ruleId":"123","severity":1,"message":"143","line":2,"column":15,"nodeType":"125","messageId":"126","endLine":2,"endColumn":19},{"ruleId":"123","severity":1,"message":"145","line":11,"column":18,"nodeType":"125","messageId":"126","endLine":11,"endColumn":22},{"ruleId":"123","severity":1,"message":"143","line":2,"column":15,"nodeType":"125","messageId":"126","endLine":2,"endColumn":19},{"ruleId":"123","severity":1,"message":"146","line":11,"column":19,"nodeType":"125","messageId":"126","endLine":11,"endColumn":27},{"ruleId":"127","severity":1,"message":"132","line":22,"column":8,"nodeType":"129","endLine":22,"endColumn":15,"suggestions":"147"},"no-native-reassign",["148"],"no-negated-in-lhs",["149"],"no-unused-vars","'axios' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["150"],"'MailOutlined' is defined but never used.","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.",["151"],"'roleBasedRedirect' is assigned a value but never used.","'firebase' is defined but never used.","'user' is assigned a value but never used.",["152"],"no-template-curly-in-string","Unexpected template string expression.","Literal","unexpectedTemplateExpression","'ToastContainer' is defined but never used.","'Link' is defined but never used.",["153"],"'Item' is assigned a value but never used.","'interval' is assigned a value but never used.",["154"],"no-global-assign","no-unsafe-negation",{"desc":"155","fix":"156"},{"desc":"157","fix":"158"},{"desc":"157","fix":"159"},{"desc":"157","fix":"160"},{"desc":"161","fix":"162"},"Update the dependencies array to be: [dispatch]",{"range":"163","text":"164"},"Update the dependencies array to be: [history, user]",{"range":"165","text":"166"},{"range":"167","text":"166"},{"range":"168","text":"166"},"Update the dependencies array to be: [count, history]",{"range":"169","text":"170"},[1671,1673],"[dispatch]",[882,888],"[history, user]",[450,456],[596,602],[527,534],"[count, history]"]