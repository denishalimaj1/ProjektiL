{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Arber Lluka\\\\Desktop\\\\Projekti\\\\ProjektiL\\\\ProjektiL\\\\src\\\\pages\\\\admin\\\\product\\\\ProductCreate.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport AdminNav from \"../../../components/nav/AdminNav\";\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\nimport { createProduct } from \"../../../functions/product\";\nimport ProductCreateForm from \"../../../components/nav/forms/ProductCreateForm\";\nimport { getCategories, getCategorySubs } from \"../../../functions/category\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  title: 'Macbook Pro',\n  description: 'This is the best Apple product',\n  price: '45000',\n  categories: [],\n  category: '',\n  subs: [],\n  shipping: 'Yes',\n  quantity: '50',\n  images: [],\n  colors: [\"Black\", \"Brown\", \"Silver\", \"White\", \"Blue\"],\n  brands: [\"Apple\", \"Samsung\", \"Microsoft\", \"Lenovo\", \"Asus\"],\n  color: 'White',\n  brand: 'Apple'\n};\n\nconst ProductCreate = () => {\n  _s();\n\n  const [values, setValues] = useState(initialState);\n  const [subOptions, setSubOptions] = useState([]);\n  const [showSub, setShowSub] = useState(false);\n  const {\n    user\n  } = useSelector(state => ({ ...state\n  }));\n  useEffect(() => {\n    loadCategories();\n  }, []);\n\n  const loadCategories = () => getCategories().then(c => setValues({ ...values,\n    categories: c.data\n  }));\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    createProduct(values, user.token).then(res => {\n      console.log(res);\n      window.alert(`\"${res.data.title}\"is created`);\n      window.location.reload();\n    }).catch(err => {\n      console.log(err); //  if(err.response.status===400) toast.error(err.response.data);\n\n      toast.error(err.response.data.err);\n    });\n  };\n\n  const handleChange = e => {\n    setValues({ ...values,\n      [e.target.name]: e.target.value\n    }); // console.log(e.target.name,'-----',e.target.value);\n  };\n\n  const handleCategoryChange = e => {\n    e.preventDefault();\n    console.log(\"Clicked category\", e.target.value);\n    setValues({ ...values,\n      category: e.target.value\n    });\n    getCategorySubs(e.target.value).then(res => {\n      console.log('SUB OPTIONS ON CATEGORY CLICK', res);\n      setSubOptions(res.data);\n    });\n    setShowSub(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-2\",\n        children: /*#__PURE__*/_jsxDEV(AdminNav, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Product Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), JSON.stringify(values.subs), /*#__PURE__*/_jsxDEV(ProductCreateForm, {\n          handleSubmit: handleSubmit,\n          handleChange: handleChange,\n          setValues: setValues,\n          values: values,\n          handleCategoryChange: handleCategoryChange,\n          subOptions: subOptions,\n          showSub: showSub\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 10\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ProductCreate, \"MUgEDE0SMBFQhm++gOHQfo1vafk=\", false, function () {\n  return [useSelector];\n});\n\n_c = ProductCreate;\nexport default ProductCreate;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductCreate\");","map":{"version":3,"sources":["C:/Users/Arber Lluka/Desktop/Projekti/ProjektiL/ProjektiL/src/pages/admin/product/ProductCreate.js"],"names":["React","useState","useEffect","AdminNav","toast","useSelector","createProduct","ProductCreateForm","getCategories","getCategorySubs","initialState","title","description","price","categories","category","subs","shipping","quantity","images","colors","brands","color","brand","ProductCreate","values","setValues","subOptions","setSubOptions","showSub","setShowSub","user","state","loadCategories","then","c","data","handleSubmit","e","preventDefault","token","res","console","log","window","alert","location","reload","catch","err","error","response","handleChange","target","name","value","handleCategoryChange","JSON","stringify"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../../components/nav/AdminNav\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { createProduct} from \"../../../functions/product\";\r\nimport ProductCreateForm from \"../../../components/nav/forms/ProductCreateForm\"\r\nimport {getCategories,getCategorySubs} from \"../../../functions/category\";\r\nconst initialState={\r\n    title:'Macbook Pro',\r\n    description:'This is the best Apple product',\r\n    price:'45000',\r\n    categories:[],\r\n    category:'',\r\n    subs:[],\r\n    shipping:'Yes',\r\n    quantity:'50',\r\n    images:[],\r\n    colors:[\"Black\",\"Brown\",\"Silver\",\"White\",\"Blue\"],\r\n    brands:[\"Apple\",\"Samsung\",\"Microsoft\",\"Lenovo\",\"Asus\"],\r\n    color:'White',\r\n    brand:'Apple',\r\n\r\n\r\n};\r\nconst ProductCreate =() =>{\r\n    const[values,setValues]=useState(initialState);\r\n    const[subOptions,setSubOptions]=useState([]);\r\n    const [showSub,setShowSub]=useState(false);\r\n    const {user}=useSelector((state)=>({...state}));\r\n    useEffect(()=>{\r\n        loadCategories();\r\n\r\n    },[]);\r\n    const loadCategories=()=>\r\n    getCategories().then((c)=>setValues({...values,categories: c.data}));\r\n  \r\n        const handleSubmit=(e)=>{\r\n            e.preventDefault();\r\n            createProduct(values,user.token)\r\n            .then(res=>{\r\n                console.log(res);\r\n                window.alert(`\"${res.data.title}\"is created`)\r\n                window.location.reload(); \r\n            })\r\n            .catch(err=>{\r\n                console.log(err)\r\n              //  if(err.response.status===400) toast.error(err.response.data);\r\n               toast.error(err.response.data.err);\r\n\r\n            });\r\n        };\r\n        const handleChange=(e)=>{\r\n           setValues({...values,[e.target.name]:e.target.value});\r\n          // console.log(e.target.name,'-----',e.target.value);\r\n        };\r\n        const handleCategoryChange=(e)=>{\r\n            e.preventDefault()\r\n            console.log(\"Clicked category\",e.target.value)\r\n            setValues({...values,category:e.target.value});\r\n            getCategorySubs(e.target.value)\r\n            .then(res=>{\r\n                console.log('SUB OPTIONS ON CATEGORY CLICK',res)\r\n                setSubOptions(res.data);\r\n\r\n\r\n            })\r\n            setShowSub(true);\r\n        };\r\n\r\n    return(\r\n        <div className=\"container-fluid\">\r\n         <div className=\"row\">\r\n         <div className=\"col-md-2\">\r\n          <AdminNav />\r\n        </div>\r\n        <div className=\"col-md-10\">\r\n            <h4>Product Create</h4>\r\n            <hr/>\r\n            {JSON.stringify(values.subs)}\r\n            \r\n           <ProductCreateForm \r\n           handleSubmit={handleSubmit}\r\n            handleChange={handleChange}\r\n            setValues={setValues}\r\n            values={values}\r\n            handleCategoryChange={handleCategoryChange}\r\n            subOptions={subOptions}\r\n            showSub={showSub}/>\r\n            \r\n            \r\n            \r\n        </div>\r\n         </div>\r\n        </div>\r\n\r\n    )\r\n\r\n\r\n}\r\nexport default ProductCreate"]},"metadata":{},"sourceType":"module"}